{"version":3,"file":"index.js","mappings":";CAAA,SAA2CA,EAAMC,GAChD,GAAsB,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,EAAQG,QAAQ,sBAC7B,GAAqB,mBAAXC,QAAyBA,OAAOC,IAC9CD,OAAO,CAAC,gBAAiBJ,OACrB,CACJ,IAAIM,EAAuB,iBAAZL,QAAuBD,EAAQG,QAAQ,iBAAmBH,EAAQD,EAAc,SAC/F,IAAI,IAAIQ,KAAKD,GAAuB,iBAAZL,QAAuBA,QAAUF,GAAMQ,GAAKD,EAAEC,IAPxE,CASGC,MAAM,SAASC,GAClB,wCCVAP,EAAOD,QAAUQ,ICCbC,EAA2B,GAG/B,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaZ,QAGrB,IAAIC,EAASQ,EAAyBE,GAAY,CAGjDX,QAAS,IAOV,OAHAc,EAAoBH,GAAUV,EAAQA,EAAOD,QAASU,GAG/CT,EAAOD,QCpBfU,EAAoBK,EAAI,CAACf,EAASgB,KACjC,IAAI,IAAIC,KAAOD,EACXN,EAAoBQ,EAAEF,EAAYC,KAASP,EAAoBQ,EAAElB,EAASiB,IAC5EE,OAAOC,eAAepB,EAASiB,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,MCJ3EP,EAAoBQ,EAAI,CAACK,EAAKC,IAAUL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,GCClFd,EAAoBkB,EAAK5B,IACH,oBAAX6B,QAA0BA,OAAOC,aAC1CX,OAAOC,eAAepB,EAAS6B,OAAOC,YAAa,CAAEC,MAAO,WAE7DZ,OAAOC,eAAepB,EAAS,aAAc,CAAE+B,OAAO,4+CCWhD,IAAMC,EAAb,4sBAkBE,aAEuE,IAAD,EADlED,EACkE,4DAD1DlB,EAAWoB,EAC+C,4DADzCpB,EAAWqB,EAC8B,4DADxBrB,EAC1CsB,EAAkE,4DAAtDtB,EAAWuB,EAA2C,4DAA/BvB,EAAWwB,EAAoB,4DAAXxB,EAAW,kBACpE,cAAMkB,EAAOE,EAAKC,EAAKC,EAAWC,EAAWC,IASxCC,aAAe,GAOpB,EAAKC,aAAe,KAjBgD,EApBxE,uCA8DE,WAAqD,IAAzCC,EAAwC,4DAApC3B,EAER4B,EAAUC,EAAAA,MAAAA,UAAAA,QACZA,EAAAA,MAAAA,UAAAA,SAAmCA,EAAAA,MAAAA,UAAAA,KACvC,+CAAkBF,EAAGC,GAErB,IAAME,EAASpC,KAAKqC,kBAEpBF,EAAAA,YAAAA,gBAAoCG,YAAYF,GAEhDD,EAAAA,YAAAA,UACInC,KAAKuC,aAAaC,MAAMC,cACxBzC,KAAKuC,aAAaC,MAAME,gBAE5BP,EAAAA,YAAAA,sBACInC,KAAMA,KAAK2C,iBAAiBC,KAAK5C,SA7EzC,qBAqFE,WACE,4CACAA,KAAK6C,kBAvFT,6BA+FE,WACE,IAAMC,EAAUC,SAASC,cAAc,OACvCF,EAAQG,UAAY,uBACpB,IAAMC,EAAcH,SAASC,cAAc,SAa3C,OAZAE,EAAYC,aAAa,OAAQ,SACjCD,EAAYC,aAAa,MAAOnD,KAAKoD,MACrCF,EAAYC,aAAa,MAAOnD,KAAKqD,MACrCH,EAAYC,aAAa,OAAQnD,KAAKsD,YACtCJ,EAAYC,aAAa,QAASnD,KAAKuD,YACvCL,EAAYD,UAAY,cACxBH,EAAQR,YAAYY,GACpBlD,KAAKgC,aAAekB,EAEpBlD,KAAK+B,aAAayB,KAAKrB,EAAAA,cAAAA,gBACnBe,EAAa,QAASlD,KAAMA,KAAKyD,kBAE9BX,IA/GX,8BAsHE,WAAoB,IAAD,g6BACG9C,KAAK+B,cADR,IACjB,2BAAuC,CAAC,IAA7B2B,EAA4B,QACrCvB,EAAAA,aAAqBuB,IAFN,8BAIjB1D,KAAKgC,aAAe,OA1HxB,6BAiIE,WACEhC,KAAK2D,gBAAgB3D,KAAKgC,aAAaR,SAlI3C,2BAyIE,WACOxB,KAAKgC,cAGVhC,KAAKgC,aAAamB,aAAa,QAASnD,KAAKuD,iBA7IjD,uBAgDE,SAAgBK,GACd,OAAO,IAAInC,EACPmC,EAAO,WAAWtD,OAAWA,OAAWA,OAAWA,EAAWsD,uFAlDtE,GAAiCzB,EAAAA,aAiJjCA,EAAAA,cAAAA,SAA+B,eAAgBV,GAK/CU,EAAAA,IAAAA,SAAqB","sources":["webpack://@blockly/field-slider/webpack/universalModuleDefinition","webpack://@blockly/field-slider/external umd {\"root\":\"Blockly\",\"commonjs\":\"blockly/core\",\"commonjs2\":\"blockly/core\",\"amd\":\"blockly/core\"}","webpack://@blockly/field-slider/webpack/bootstrap","webpack://@blockly/field-slider/webpack/runtime/define property getters","webpack://@blockly/field-slider/webpack/runtime/hasOwnProperty shorthand","webpack://@blockly/field-slider/webpack/runtime/make namespace object","webpack://@blockly/field-slider/./src/field_slider.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"blockly/core\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"blockly/core\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"blockly/core\")) : factory(root[\"Blockly\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function(__WEBPACK_EXTERNAL_MODULE__573__) {\nreturn ","module.exports = __WEBPACK_EXTERNAL_MODULE__573__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Number slider input field.\n * @author kozbial@google.com (Monica Kozbial)\n */\n\nimport * as Blockly from 'blockly/core';\n\n/**\n * Slider field.\n */\nexport class FieldSlider extends Blockly.FieldNumber {\n  /**\n   * Class for an number slider field.\n   * @param {string|number=} value The initial value of the field. Should\n   *    cast to a number. Defaults to 0.\n   * @param {?(string|number)=} min Minimum value.\n   * @param {?(string|number)=} max Maximum value.\n   * @param {?(string|number)=} precision Precision for value.\n   * @param {?Function=} validator A function that is called to validate\n   *    changes to the field's value. Takes in a number & returns a validated\n   *    number, or null to abort the change.\n   * @param {Object=} config A map of options used to configure the field.\n   *    See the [field creation documentation]{@link\n   * https://developers.google.com/blockly/guides/create-custom-blocks/fields/built-in-fields/number#creation}\n   *    for a list of properties this parameter supports.\n   * @extends {Blockly.FieldNumber}\n   * @constructor\n   */\n  constructor(\n      value = undefined, min = undefined, max = undefined,\n      precision = undefined, validator = undefined, config = undefined) {\n    super(value, min, max, precision, validator, config);\n\n    /**\n     * Array holding info needed to unbind events.\n     * Used for disposing.\n     * Ex: [[node, name, func], [node, name, func]].\n     * @type {!Array.<Array<?>>}\n     * @private\n     */\n    this.boundEvents_ = [];\n\n    /**\n     * The HTML range input element.\n     * @type {?HTMLInputElement}\n     * @private\n     */\n    this.sliderInput_ = null;\n  }\n\n  /**\n   * Constructs a FieldSlider from a JSON arg object.\n   * @param {!Object} options A JSON object with options (value, min, max, and\n   *                          precision).\n   * @return {!FieldSlider} The new field instance.\n   * @package\n   * @nocollapse\n   */\n  static fromJson(options) {\n    return new FieldSlider(\n        options['value'], undefined, undefined, undefined, undefined, options);\n  }\n\n  /**\n   * Show the inline free-text editor on top of the text along with the slider\n   *    editor.\n   * @param {Event=} e Optional mouse event that triggered the field to\n   *     open, or undefined if triggered programmatically.\n   * @param {boolean=} _quietInput Quiet input.\n   * @protected\n   * @override\n   */\n  showEditor_(e = undefined, _quietInput = undefined) {\n    // Mobile browsers have issues with in-line textareas (focus & keyboards).\n    const noFocus = Blockly.utils.userAgent.MOBILE ||\n        Blockly.utils.userAgent.ANDROID || Blockly.utils.userAgent.IPAD;\n    super.showEditor_(e, noFocus);\n    // Build the DOM.\n    const editor = this.dropdownCreate_();\n\n    Blockly.DropDownDiv.getContentDiv().appendChild(editor);\n\n    Blockly.DropDownDiv.setColour(\n        this.sourceBlock_.style.colourPrimary,\n        this.sourceBlock_.style.colourTertiary);\n\n    Blockly.DropDownDiv.showPositionedByField(\n        this, this.dropdownDispose_.bind(this));\n  }\n\n  /**\n   * Updates the slider when the field rerenders.\n   * @protected\n   * @override\n   */\n  render_() {\n    super.render_();\n    this.updateSlider_();\n  }\n\n  /**\n   * Creates the slider editor and add event listeners.\n   * @return {!Element} The newly created slider.\n   * @private\n   */\n  dropdownCreate_() {\n    const wrapper = document.createElement('div');\n    wrapper.className = 'fieldSliderContainer';\n    const sliderInput = document.createElement('input');\n    sliderInput.setAttribute('type', 'range');\n    sliderInput.setAttribute('min', this.min_);\n    sliderInput.setAttribute('max', this.max_);\n    sliderInput.setAttribute('step', this.precision_);\n    sliderInput.setAttribute('value', this.getValue());\n    sliderInput.className = 'fieldSlider';\n    wrapper.appendChild(sliderInput);\n    this.sliderInput_ = sliderInput;\n\n    this.boundEvents_.push(Blockly.browserEvents.conditionalBind(\n        sliderInput, 'input', this, this.onSliderChange_));\n\n    return wrapper;\n  }\n\n  /**\n   * Disposes of events belonging to the slider editor.\n   * @private\n   */\n  dropdownDispose_() {\n    for (const event of this.boundEvents_) {\n      Blockly.unbindEvent_(event);\n    }\n    this.sliderInput_ = null;\n  }\n\n  /**\n   * Sets the text to match the slider's position.\n   * @private\n   */\n  onSliderChange_() {\n    this.setEditorValue_(this.sliderInput_.value);\n  }\n\n  /**\n   * Updates the slider when the field rerenders.\n   * @private\n   */\n  updateSlider_() {\n    if (!this.sliderInput_) {\n      return;\n    }\n    this.sliderInput_.setAttribute('value', this.getValue());\n  }\n}\n\nBlockly.fieldRegistry.register('field_slider', FieldSlider);\n\n/**\n * CSS for slider field.\n */\nBlockly.Css.register([\n  /* eslint-disable indent */\n  `.fieldSliderContainer {\n      align-items: center;\n      display: flex;\n      height: 32px;\n      justify-content: center;\n      width: 150px;\n    }\n    .fieldSlider {\n      -webkit-appearance: none;\n      background: transparent; /* override white in chrome */\n      margin: 4px;\n      padding: 0;\n      width: 100%;\n    }\n    .fieldSlider:focus {\n      outline: none;\n    }\n    /* Webkit */\n    .fieldSlider::-webkit-slider-runnable-track {\n      background: #ddd;\n      border-radius: 5px;\n      height: 10px;\n    }\n    .fieldSlider::-webkit-slider-thumb {\n      -webkit-appearance: none;\n      background: #fff;\n      border-radius: 50%;\n      box-shadow: 0 0 0 4px rgba(255,255,255,.15);\n      cursor: pointer;\n      height: 24px;\n      margin-top: -7px;\n      width: 24px;\n    }\n    /* Firefox */\n    .fieldSlider::-moz-range-track {\n      background: #ddd;\n      border-radius: 5px;\n      height: 10px;\n    }\n    .fieldSlider::-moz-range-thumb {\n      background: #fff;\n      border: none;\n      border-radius: 50%;\n      box-shadow: 0 0 0 4px rgba(255,255,255,.15);\n      cursor: pointer;\n      height: 24px;\n      width: 24px;\n    }\n    .fieldSlider::-moz-focus-outer {\n      /* override the focus border style */\n      border: 0;\n    }\n    /* IE */\n    .fieldSlider::-ms-track {\n      /* IE wont let the thumb overflow the track, so fake it */\n      background: transparent;\n      border-color: transparent;\n      border-width: 15px 0;\n      /* remove default tick marks */\n      color: transparent;\n      height: 10px;\n      width: 100%;\n      margin: -4px 0;\n    }\n    .fieldSlider::-ms-fill-lower  {\n      background: #ddd;\n      border-radius: 5px;\n    }\n    .fieldSlider::-ms-fill-upper  {\n      background: #ddd;\n      border-radius: 5px;\n    }\n    .fieldSlider::-ms-thumb {\n      background: #fff;\n      border: none;\n      border-radius: 50%;\n      box-shadow: 0 0 0 4px rgba(255,255,255,.15);\n      cursor: pointer;\n      height: 24px;\n      width: 24px;\n    }`,\n  /* eslint-enable indent */\n]);\n"],"names":["root","factory","exports","module","require","define","amd","a","i","this","__WEBPACK_EXTERNAL_MODULE__573__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","d","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","FieldSlider","min","max","precision","validator","config","boundEvents_","sliderInput_","e","noFocus","Blockly","editor","dropdownCreate_","appendChild","sourceBlock_","style","colourPrimary","colourTertiary","dropdownDispose_","bind","updateSlider_","wrapper","document","createElement","className","sliderInput","setAttribute","min_","max_","precision_","getValue","push","onSliderChange_","event","setEditorValue_","options"],"sourceRoot":""}
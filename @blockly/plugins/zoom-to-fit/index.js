!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("blockly/core"));else if("function"==typeof define&&define.amd)define(["blockly/core"],e);else{var i="object"==typeof exports?e(require("blockly/core")):e(t.Blockly);for(var o in i)("object"==typeof exports?exports:t)[o]=i[o]}}(this,(function(t){return function(t){var e={};function i(o){if(e[o])return e[o].exports;var s=e[o]={i:o,l:!1,exports:{}};return t[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=e,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(o,s,function(e){return t[e]}.bind(null,s));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=1)}([function(e,i){e.exports=t},function(t,e,i){"use strict";i.r(e),i.d(e,"ZoomToFitControl",(function(){return r}));var o=i(0),s=i.n(o);
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class r{constructor(t){this.workspace_=t,this.svgGroup_=null,this.left_=0,this.top_=0,this.WIDTH_=32,this.HEIGHT_=32,this.MARGIN_VERTICAL_=20,this.MARGIN_HORIZONTAL_=20,this.initialized_=!1}init(){this.workspace_.getPluginManager().addPlugin({id:"zoomToFit",plugin:this,weight:2,types:[s.a.PluginManager.Type.POSITIONABLE]}),this.createDom_(),this.initialized_=!0,this.workspace_.resize()}dispose(){this.svgGroup_&&s.a.utils.dom.removeNode(this.svgGroup_),this.onZoomToFitWrapper_&&s.a.unbindEvent_(this.onZoomToFitWrapper_)}createDom_(){this.svgGroup_=s.a.utils.dom.createSvgElement(s.a.utils.Svg.IMAGE,{height:this.HEIGHT_+"px",width:this.WIDTH_+"px",class:"zoomToFit"}),this.svgGroup_.setAttributeNS(s.a.utils.dom.XLINK_NS,"xlink:href",n),s.a.utils.dom.insertAfter(this.svgGroup_,this.workspace_.getBubbleCanvas()),this.onZoomToFitWrapper_=s.a.browserEvents.conditionalBind(this.svgGroup_,"mousedown",null,this.onClick_.bind(this))}onClick_(){this.workspace_.zoomToFit();const t=new(s.a.Events.get(s.a.Events.CLICK))(null,this.workspace_.id,"zoom_reset_control");s.a.Events.fire(t)}getBoundingRectangle(){return new s.a.utils.Rect(this.top_,this.top_+this.HEIGHT_,this.left_,this.left_+this.WIDTH_)}position(t,e){if(!this.initialized_)return;const i=this.workspace_.scrollbar&&this.workspace_.scrollbar.canScrollHorizontally(),o=this.workspace_.scrollbar&&this.workspace_.scrollbar.canScrollVertically();t.toolboxMetrics.position===s.a.TOOLBOX_AT_LEFT||this.workspace_.horizontalLayout&&!this.workspace_.RTL?(this.left_=t.absoluteMetrics.left+t.viewMetrics.width-this.WIDTH_-this.MARGIN_HORIZONTAL_,i&&!this.workspace_.RTL&&(this.left_-=s.a.Scrollbar.scrollbarThickness)):(this.left_=this.MARGIN_HORIZONTAL_,i&&this.workspace_.RTL&&(this.left_+=s.a.Scrollbar.scrollbarThickness));const r=t.toolboxMetrics.position!==s.a.TOOLBOX_AT_BOTTOM;r?(this.top_=t.absoluteMetrics.top+t.viewMetrics.height-this.HEIGHT_-this.MARGIN_VERTICAL_,o&&(this.top_-=s.a.Scrollbar.scrollbarThickness)):this.top_=t.absoluteMetrics.top+this.MARGIN_VERTICAL_;let n=this.getBoundingRectangle();for(let t,i=0;t=e[i];i++)n.intersects(t)&&(this.top_=r?t.top-this.HEIGHT_-this.MARGIN_VERTICAL_:t.bottom+this.MARGIN_VERTICAL_,n=this.getBoundingRectangle(),i=-1);this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")")}}const n="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjRweCIgZmlsbD0iIzU0NkU3QSI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTUgNi40Mkw4LjA5IDkuNSA5LjUgOC4wOSA2LjQxIDVIOVYzSDN2Nmgyem0xMC0zLjQxdjJoMi41N0wxNC41IDguMDlsMS40MSAxLjQxTDE5IDYuNDFWOWgyVjMuMDF6bTQgMTQuNTdsLTMuMDktMy4wOC0xLjQxIDEuNDFMMTcuNTkgMTlIMTV2Mmg2di02aC0yek04LjA5IDE0LjVMNSAxNy41OVYxNUgzdjZoNnYtMkg2LjQybDMuMDgtMy4wOXoiLz48L3N2Zz4=";s.a.Css.register([".zoomToFit {\n    opacity: .4;\n  }\n  .zoomToFit:hover {\n    opacity: .6;\n  }\n  .zoomToFit:active {\n    opacity: .8;\n  }"])}])}));
//# sourceMappingURL=index.js.map
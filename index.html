<!DOCTYPE HTML>
<HTML>
    <head>
        <meta charset="utf-8">
        <meta name="google" value="notranslate">
        <meta http-equiv="X-Content-Security-Policy" content="default-src 'self'; script-src 'self'">
        <title>S4E</title>
        <link rel="icon" type="image/png" href="./S4E/media/logo_only.png" />
        <link rel="stylesheet" href="./css/font_awesome_all.min.css" />
        <link rel="stylesheet" href="./css/keyboard_nav.css" />
        <link rel="stylesheet" href="./css/lateral-panel.css" />
        <link rel="stylesheet" href="./css/UI.css" />
        <link rel="stylesheet" href="./S4E/css/S4E.css" />
    </head>
    <body>
        <div class="table_wrapper">
            <table style="width: 100%; height: 100%;">
                <tr id="optionsTop" style="height: 30px;">
                    <td style="width: 268px;white-space: nowrap;">
                        <img src="./S4E/media/STMicroelectronics.png" style="width: 40px; vertical-align: middle;" />
                            <span class="TitleText" id="appName"></span>
                    </td>
                    <td class="tabMiddle" style="width: 100%;">
                        <span id="content_hoverButton"></span>
                    </td>
                </tr>
                <tr style="height: 30px;">
                    <td colspan="2">
                        <button id="newButton"  class="iconButtons" onclick="Code.discard()">
                            <span id="newButton_span">
                                <i class="far fa-file"></i>
                            </span>
                        </button>
                        <button id="loadXMLfakeButton" class="iconButtons" onclick="Code.openXmlDialog()">
                            <span id="loadXMLfakeButton_span">
                                <i class="fas fa-file-upload"></i>
                            </span>
                        </button>
                        <input type="file" id="loadXMLfile" hidden onchange="Code.loadXmlBlocklyFile(this.files)" />
                        <button id="saveXMLButton" class="iconButtons" onclick="Code.saveXmlBlocklyFile()">
                            <span id="saveXMLButton_span">
                                <i class="fas fa-file-download"></i>
                            </span>
                        </button>
                        <button id="saveCodeButton" class="iconButtons" onclick="Code.saveCodeFile()">
                            <span id="saveCodeButton_span">
                                <i class="fas fa-file-export"></i>
                            </span>
                        </button>
                        <button id="undoButton" class="iconButtons" onclick="Code.Undo()">
                            <span id="undoButton_span" style="font-size: 1em;">
                                <i class="fas fa-undo-alt"></i>
                            </span>
                        </button>
                        <button id="redoButton" class="iconButtons" onclick="Code.Redo()">
                            <i class="fas fa-redo-alt"></i>
                            <span id="redoButton_span"></span>
                        </button>
                        <button id="boardButton" class="iconButtons" onclick="Code.boardsListModalShow()">
                            <i class="fas fa-microchip"></i>
                            <span id="boardButton_span"></span>
                        </button>
                        <button id="verifyButton" class="iconButtons">
                            <span id="verifyButton_span">
                                <i class="fas fa-check"></i>
                            </span>
                        </button>
                        <button id="serialButton" class="iconButtons" onclick="Code.portsListModalShow()">
                            <span id="serialButton_span">
                                <i class="fab fa-usb"></i>
                            </span>
                        </button>
                        <button id="uploadButton" class="iconButtons">
                            <span id="uploadButton_span">
                                <i class="fas fa-sign-out-alt"></i>
                            </span>
                        </button>
                        <button id="serialConnectButton" class="iconButtons">
                            <span id="serialConnectButton_span">
                                <i class="fas fa-search"></i>
                            </span>
                        </button>
                        <button id="fullScreenButton" class="iconButtons" onclick="fullScreen()">
                            <span id="fullScreenButton_span" style="font-size: 1em;">
                                <i class="fas fa-expand-arrows-alt"></i>
                            </span>
                        </button>
                        <button id="resetButton" class="iconButtons" onclick="Code.ResetWorkspace()">
                            <span id="resetButton_span">
                                <i class="fas fa-power-off"></i>
                            </span>
                        </button>
                        <button id="helpButton" class="iconButtons" onclick="toggleDisplayHelpModal()">
                            <span id="helpButton_span">
                                <i class="fas fa-question"></i>
                            </span>
                        </button>
                    </td>
                </tr>
                <tr style="width: 100%; height: 100%;">
                    <td colspan="2">
                        <div class="content_wrapper">
                            <div id="wrapper_up" class="wrapper_up">
                                <div id="content_area">
                                    <div id="content_blocks"></div>
                                </div>
                                <div id="separator">
                                    <label id="editorReadOnlyToggle" class="switch">
                                        <input type="checkbox" onclick="toggleEditorReadOnly(this)">
                                        <span class="slider"></span>
                                    </label>
                                </div>
                                <button id="copyCodeButton" class="iconButtons" onclick="Code.copyToClipboard()">
                                    <span id="copyCodeButton_span">
                                        <i class="far fa-copy"></i>
                                    </span>
                                </button>
                                <div id="content_code"></div>
                            </div>
                            <div id="barre_h">
                                <div id="checkDetails">
                                    <input type="checkbox" name="detailedCompilation" id="detailedCompilation"/>
                                    <span id="detailedCompilation_span"> </span>
                                </div>
                            </div>
                            <div id="content_serial"></div>
                        </div>
                    </td>
                </tr>
            </table>
        </div>
        <div id="helpModal">
            <div id="helpModal_header">
                <span id="helpModalSpan_title"></span>
            </div>
            <div id="helpModal_text">
                <span id="helpModalSpan_text"></span>
            </div>
        </div>
        <div id="keyboard_nav">
            <div id="keyboard_nav_header">
                <span id="keyMappingModalSpan"></span>
            </div>
            <form id="keyboard_mappings"></form>
        </div>
        <div id="lateral-panel-CLI">
            <input id="lateral-panel-CLI-input" type="checkbox">
            <label id="lateral-panel-CLI-label" for="lateral-panel-CLI-input" class="label_panel">
                <span id="config_side_span">
                    <i class="fas fa-terminal"></i>
                </span>
            </label>
            <div id="lateral-panel-CLI-bloc">
                <div id="CLI_content" class="side_content config_content CLI">
                    <div id="configCLI">
                        <span id="CLI_title_span" class="UIText">CLI</span>
                        <br>
                        <div id="CLI_title" style="display:flex;text-align: center;">
                            <button id="coreUpdateButton" class="iconButtons CLI" onclick="">
                                <span id="coreUpdateButton_span">
                                    <i class="fas fa-sync"></i>
                                </span>
                            </button>
                            <button id="cleanCLIcacheButton" class="iconButtons CLI" onclick="">
                                <span id="cleanCLIcache_span">
                                    <i class="fas fa-eraser"></i>
                                </span>
                            </button>
                            <button id="listBoardsButton" class="iconButtons CLI" onclick="">
                                <span id="listBoardsButton_span">
                                    <i class="fas fa-list"></i>
                                </span>
                            </button>
                            <a href="https://arduino.github.io/arduino-cli/" id="CLI_githubLinkButton" target="_blank">
                                <img src="./S4E/media/featured-CLI.png" style="height: 40px" />
                            </a>
                        </div>
                        <br>
                        <span id="installBoard_title_span" class="UIText CLI">install board</span>
                        <br>
                        <input type="text" id="installBoardsInput" name="installBoardsInput" style="width: 250px;font-size:20px;">
                        <button id="installBoardsButton" class="iconButtons CLI" onclick="">
                            <span id="installBoardsButton_span">
                                <i class="fas fa-cloud-download-alt"></i>
                            </span>
                        </button>
                        <br>
                        <br>
                        <span id="searchlLib_title_span" class="UIText">search library</span>
                        <br>
                        <input type="text" id="searchlLibInput" name="searchlLibInput" style="width: 250px;font-size:20px;">
                        <button id="searchlLibButton" class="iconButtons CLI" onclick="">
                            <span id="searchlLibButton_span">
                                <i class="fab fa-searchengin"></i>
                            </span>
                        </button>
                        <br>
                        <br>
                        <span id="installLib_title_span" class="UIText">install library</span>
                        <br>
                        <input type="text" id="installLibInput" name="installLibInput" size="18" style="width: 250px;font-size:20px;">
                        <button id="installLibButton" class="iconButtons CLI" onclick="">
                            <span id="installLibButton_span">
                                <i class="fas fa-cloud-download-alt"></i>
                            </span>
                        </button>
                        <br>
                        <button id="registerToOrchestrator" class="iconButtons CLI" onclick="ArrowheadRegister()">
                            <span id="registerToOrchestrator_span">
                                <i class="fas fa-plug"></i>
                            </span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div id="lateral-panel-setup">
            <input id="lateral-panel-setup-input" type="checkbox">
            <label id="lateral-panel-setup-label" for="lateral-panel-setup-input" class="label_panel">
                <span id="setup_side_span">
                    <i class="fas fa-cog"></i>
                </span>
            </label>
            <div id="lateral-panel-setup-bloc">
                <div id="setup_content" class="side_content config_content">
                    <form id="options">
                        <!-- <select name="toolbox" onchange="document.forms.options.submit('options')"> -->
                        <!-- <option value="categories">Categories (untyped variables)</option> -->
                        <!-- <option value="categories-typed-variables">Categories (typed variables)</option> -->
                        <!-- <option value="simple">Simple</option> -->
                        <!-- <option value="test-blocks">Test Blocks</option> -->
                        <!-- </select> -->
                        <span id="boardMenuSpan" class="UIText">...</span>
                        <select id="boardMenu" onchange="changeBoard()">
                            <!-- <option value="none" selected="selected">...</option> -->
                            <!-- <option value="arduino_leonardo">Arduino Leonardo</option> -->
                            <!-- <option value="arduino_mega">Arduino Mega</option> -->
                            <!-- <option value="arduino_micro">Arduino Micro</option> -->
                            <!-- <option value="arduino_mini">Arduino Mini</option> -->
                            <!-- <option value="arduino_nano">Arduino Nano</option> -->
                            <!-- <option value="arduino_pro8">Arduino Pro Mini 3.3V</option> -->
                            <!-- <option value="arduino_pro16">Arduino Pro Mini 5V</option> -->
                            <!-- <option value="arduino_uno">Arduino Uno</option> -->
                            <!-- <option value="arduino_yun">Arduino Yùn</option> -->
                            <!-- <option value="lilypad">LilyPad</option> -->
                        </select>
                        <br>
                        <br>
                        <span id="serialMenuSpan" class="UIText">...</span>
                        <select id="serialMenu">
                            <option value="none">...</option>
                        </select>
                        <br>
                        <br>
                        <span id="languageSpan" class="UIText">...</span>
                        <select id="languageMenu"></select>
                        <br>
                        <br>
                        <span id="interfaceColorSpan" class="UIText">...</span>
                        <select id="interfaceColorMenu">
                            <option value="arduino" selected="selected">S4E2</option>
                        </select>
                        <br>
                        <br>
                        <span id="codeEditorColorSpan" class="UIText">...</span>
                        <select id="codeEditorColorMenu">
                            <option value="arduino" selected="selected">S4E2</option>
                        </select>
                        <br>
                        <br>
                        <span id="themeSpan" class="UIText">...</span>
                        <select name="theme" onchange="changeTheme(this.value)">
                            <option value="classic" id="themeClassicSpan">classic</option>
                            <option value="modern" id="themeModernSpan">modern</option>
                            <option value="deuteranopia" id="themeDeuteranopiaSpan">deuteranopia</option>
                            <option value="tritanopia" id="themeTritanopiaSpan">tritanopia</option>
                            <option value="zelos" id="themeZelosSpan">zelos</option>
                            <option value="high_contrast" id="themeHighContrastSpan">high_contrast</option>
                            <option value="dark" id="themeDarkSpan">dark</option>
                            <option value="blackWhite" id="themeBwSpan">blackWhite</option>
                        </select>
                        <br>
                        <br>
                        <span id="renderSpan" class="UIText">...</span>
                        <select name="renderer" onchange="document.forms.options.submit('options')">
                            <option value="geras">Geras</option>
                            <option value="thrasos">Thrasos</option>
                            <option value="zelos">Zelos</option>
                            <option value="minimalist">Minimalist</option>
                        </select>
                    </form>
                    <br>
                    <span id="fontSizeSpan" class="UIText"></span>
                    <select id="rendering-constant-selector">
                        <option value="fontSizeBlocks" id="optionFontSizeBlocks" selected="selected">Blocks & Editor Font Size</option>
                        <option value="fontSizePage" id="optionFontSizePage">Page Font Size</option>
                        <option value="fontSpacingPage" id="optionFontSpacingPage">Page Font Spacing</option>
                    </select>
                    <br>
                    <input type="range" min="3" max="50" value="4" oninput="Code.changeRenderingConstant(this.value)" onchange="Code.changeRenderingConstant(this.value)" />
                    <br>
                    <br>
                    <input id="accessibilityModeCheck" type="checkbox" onclick="toggleAccessibilityMode(this.checked)">
                    <span id="accessibilitySpan" class="UIText"></span>
                    <br>
                    <input id="displayKeyMappings" type="checkbox" onclick="toggleDisplayKeyMappings(this.checked)">
                    <span id="keyMappingSpan" class="UIText"></span>
                    <br>
                    <select id="cursorChanger" name="cursor" onchange="changeCursor(this.value)">
                        <option value="default" id="defaultCursorSpan">default</option> 
                        <option value="basic" id="basicCursorSpan">basic</option>
                        <option value="line" id="lineCursorSpan">line</option>
                    </select>
                    <br>
                </div>
            </div>
        </div>
        <div id="overlayForModals" class="overlay" style="display: none;"></div>
        <div id="boardListModal" class="modal">
            <div class="modal-content">
                <div class="modal-header"> 
                    <i class="fa fa-microchip"></i>Boards description
                    <span class="closeModal" id="closeModalBoards">&times;</span>
                </div>
                <div class="modal-body">
                    <div id="board_mini_picture_div">
                        <img id="board_mini_picture" />
                    </div>
                    <div id="hideSelectScrollbar">
                        <select id="boardDescriptionSelector" size="11" onchange="Code.boardDescription()">
                            <!-- <optgroup label="C / C++"> -->
                            <!-- <option value="arduino_leonardo" >Arduino Léonardo</option> -->
                            <!-- <option value="arduino_mega" >Arduino Mega</option> -->
                            <!-- <option value="arduino_micro" >Arduino Micro</option> -->
                            <!-- <option value="arduino_mini" >Arduino Mini</option> -->
                            <!-- <option value="arduino_nano" >Arduino Nano</option> -->
                            <!-- <option value="arduino_pro8" >Arduino Pro Mini 3.3V</option> -->
                            <!-- <option value="arduino_pro16" >Arduino Pro Mini 5V</option> -->
                            <!-- <option value="arduino_uno" >Arduino Uno</option> -->
                            <!-- <option value="arduino_yun" >Arduino Yùn</option> -->
                            <!-- <option value="lilypad" >LilyPad</option> -->
                            <!-- </optgroup> -->
                        </select>
                    </div>
                </div>
                <br>
                <button type="button" class="collapsibleButton">Details</button>
                <div class="collapsibleContent" id="collapsibleContent">
                    <span id="boardModal_connect">Connecteur</span><span id="boardModal_connect_span" class="modalBoard_info">...</span><br>
                    <span id="boardModal_voltage">Tension de fonctionnement</span><span id="boardModal_voltage_span" class="modalBoard_info">...</span><br>
                    <span id="boardModal_voltage_normal">Tension d'alimentation (recommandée)</span><span id="boardModal_voltage_normal_span" class="modalBoard_info">...</span><br>
                    <span id="boardModal_voltage_maxi">Tension d'alimentation (limites)</span><span id="boardModal_voltage_maxi_span" class="modalBoard_info">...</span><br>
                    <span id="boardModal_cpu">Microcontrôleur µC</span><span id="boardModal_cpu_span" class="modalBoard_info">...</span><br>
                    <span id="boardModal_speed"></span>Vitesse d'horloge<span id="boardModal_speed_span" class="modalBoard_info">...</span><br>
                    <span id="boardModal_inout">Nombre d'E/S logiques</span><span id="boardModal_inout_span" class="modalBoard_info">...</span><br>
                    <span id="boardModal_in_analog">Nombre d'E/S analogiques</span><span id="boardModal_in_analog_span" class="modalBoard_info">...</span><br>
                    <span id="boardModal_out_analog">Nombre de sorties PWM</span><span id="boardModal_out_analog_span" class="modalBoard_info">...</span><br>
                    <span id="boardModal_i_max_out">Intensité maxi par broche (5V)</span><span id="boardModal_i_max_out_span" class="modalBoard_info">...</span><br>
                    <span id="boardModal_i_max3">Intensité maxi la sortie 3.3V</span><span id="boardModal_i_max3_span" class="modalBoard_info">...</span><br>
                    <span id="boardModal_i_max_5">Intensité maxi la sortie 5V</span><span id="boardModal_i_max_5_span" class="modalBoard_info">...</span><br>
                    <span id="boardModal_flash">Mémoire flash</span><span id="boardModal_flash_span" class="modalBoard_info">...</span><br>
                    <span id="boardModal_sram"></span>Mémoire SRAM<span id="boardModal_sram_span" class="modalBoard_info">...</span><br>
                    <span id="boardModal_eeprom"></span>EEPROM<span id="boardModal_eeprom_span" class="modalBoard_info">...</span><br>
                </div> 
            </div>
        </div>
        <div id="portListModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <i class="fab fa-usb"></i>Modal Header Ports
                    <span class="closeModal" id="closeModalPorts">&times;</span>
                </div>
                <div class="modal-body" id="portListModalBody">
                </div>
                <!-- <div class="modal-footer"> -->
                <!-- <h3>Modal Footer</h3> -->
                <!-- </div> -->
            </div>
        </div>
    </body>
    <!-- Blockly libraries -->
    <script src="./@blockly/blockly_compressed.js"></script>
    <script src="./@blockly/blocks_compressed.js"></script>
    <script src="./@blockly/closure/goog/base.js"></script>
    <!-- Blockly libraries for themes and renderers -->
    <script src="./@blockly/core/workspace_comment.js" async></script>
    <script src="./@blockly/core/workspace_comment_svg.js" async></script>
    <script src="./@blockly/core/workspace_comment_render_svg.js" async></script>
    <script src="./@blockly/core/renderers/minimalist/info.js" async></script>
    <script src="./@blockly/core/renderers/minimalist/constants.js" async></script>
    <script src="./@blockly/core/renderers/minimalist/drawer.js" async></script>
    <script src="./@blockly/core/renderers/minimalist/renderer.js" async></script>
    <script src="./@blockly/core/theme/modern.js" async></script>
    <script src="./@blockly/core/theme/zelos.js" async></script>
    <!-- Blockly libraries of function, from different demos -->
    <script src="./@blockly/demos/code/code.js"></script>
    <script src="./@blockly/demos/keyboard_nav/line_cursor.js" async></script>
    <script src="./@blockly/tests/playgrounds/screenshot.js" async></script>
    <!-- Blockly libraries of function, hacked from different demos -->
    <script src="./js/blockly/keyboard_nav.js"></script>
    <script src="./js/blockly/playground.js"></script>
    <script src="./js/init.js"></script>
    <script src="./js/typed_variable.js"></script>
    <script src="./js/buttons_functions.js"></script>
    <script src="./js/dialog.js"></script>
    <script src="./js/renderingConstant.js"></script>
    <!-- S4E libraries of external functions -->
    <script src="./js/ace/ace.js" charset="utf-8"></script>
    <script src="./js/ace/ext-language_tools.js"></script>
    <!-- S4E libraries of boards definition -->
    <script src="./S4E/js/boards.json"></script>
    <script src="./S4E/js/boards.js"></script>
    <!-- S4E specific: block design -->
    <script src="./S4E/blocks/blocks_colors.js" async></script>
    <script src="./S4E/blocks/board_base/board_base.js" async></script>
    <script src="./S4E/blocks/blockly/logic.js" async></script>
    <script src="./S4E/blocks/blockly/math.js" async></script>
    <script src="./S4E/blocks/servo/servo.js" async></script>
    <script src="./S4E/blocks/typed_variable.js" async></script>
    <!-- S4E specific: common generator code -->
    <script src="./generators/arduino_generator.js"></script>
    <script src="./S4E/arduino/blockly/colour.js" async></script>
    <script src="./S4E/arduino/blockly/lists.js" async></script>
    <script src="./S4E/arduino/blockly/logic.js" async></script>
    <script src="./S4E/arduino/blockly/loops.js" async></script>
    <script src="./S4E/arduino/blockly/math.js" async></script>
    <script src="./S4E/arduino/blockly/procedures.js" async></script>
    <script src="./S4E/arduino/blockly/text.js" async></script>
    <!-- S4E specific: addon generator code -->
    <script src="./S4E/arduino/board_base/board_base.js" async></script>
    <script src="./S4E/arduino/typed_variable.js" async></script>
    <script src="./S4E/arduino/addon/servo.js" async></script>
    <!-- S4E specific -->
    <!-- Blockly themes added -->
    <script src="./S4E/themes/bw.js" async></script>
    <script src="./S4E/themes/themes_blocks.js" async></script>
    <script src="./S4E/themes/themes_categories.js" async></script>
    <script src="./S4E/themes/themes_components_override.js" async></script>
    <!-- S4E external toolbox hacked -->
    <script src="./S4E/toolbox/toolbox_S4E.js"></script>
    <script src="./S4E/toolbox/toolbox_standard.js"></script>
    <!-- S4E Arrowheadspecific -->
    <script src="./S4E/js/arrowhead.js"></script>
    <script>
        ace.require("ace/ext/language_tools");
        var editor = ace.edit("content_code");
        editor.setTheme("ace/theme/sqlserver");
        editor.session.setMode("ace/mode/c_cpp");
        editor.setShowPrintMargin(false);
        editor.setOptions({
            autoScrollEditorIntoView: false,
            readOnly: false,
            highlightGutterLine: true,
            animatedScroll: true,
            enableBasicAutocompletion: true,
            enableSnippets: true,
            enableLiveAutocompletion: true
        });
        editor.find('needle', {
            backwards: false,
            wrap: false,
            caseSensitive: false,
            wholeWord: false,
            regExp: false
        });
        editor.findNext();
        editor.findPrevious();
        require('../CLI_functions.js');
        require('../IDE_functions.js');
        <!-- require('../resources/app.asar/CLI_functions.js'); -->
        <!-- require('../resources/app.asar/IDE_functions.js'); -->
    </script>
</HTML>